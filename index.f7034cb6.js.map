{"mappings":"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","sources":["<anon>","src/components/search.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $dIxxU = parcelRequire(\"dIxxU\");\n\nvar $8j9iX = parcelRequire(\"8j9iX\");\n\nvar $lADUE = parcelRequire(\"lADUE\");\n\nvar $c3eOT = parcelRequire(\"c3eOT\");\nconst $8bb1994793b251b1$var$inputSearch = document.getElementById(\"idInputSearch\");\nconst $8bb1994793b251b1$var$listSearch = document.getElementById(\"idSearchList\");\nconst $8bb1994793b251b1$var$btnSearch = document.querySelector(\"#idSearchButton\");\nconst $8bb1994793b251b1$var$listApi = document.querySelector(\".list_api\");\nconst $8bb1994793b251b1$var$listPages = document.getElementById(\"listPages\");\nlet $8bb1994793b251b1$var$cont = 1;\nlet $8bb1994793b251b1$var$groupGenres = [];\n$8bb1994793b251b1$var$inputSearch.addEventListener(\"input\", (e)=>{\n    $8bb1994793b251b1$var$listSearch.innerHTML = \"\";\n    if (!e.target.value) return;\n    (0, $dIxxU.default).get(`https://api.themoviedb.org/3/search/movie?api_key=${(0, $8j9iX.apiKey)}&query=${e.target.value}&include_adult=false&include_video=false&sort_by=popularity.desc`).then((res)=>{\n        if (!res.data.results.length) return alert(\"no se encontro la pelicula buscada\");\n        res.data.results.forEach((element)=>{\n            element.genre_ids.forEach((genre)=>{\n                (0, $c3eOT.genres).forEach((dataGenre)=>{\n                    if (genre === dataGenre.id) $8bb1994793b251b1$var$groupGenres.push(dataGenre.name);\n                });\n            });\n            let unionGenres = $8bb1994793b251b1$var$groupGenres.join(\", \");\n            $8bb1994793b251b1$var$listSearch.insertAdjacentHTML(\"beforeend\", `<li class=\"search__item\" id=\"idSearchItem\">\n          <img class=\"search__img\" src=\"${element.poster_path ? `${0, $8j9iX.imageBaseURL}${element.poster_path}` : \"https://static.vecteezy.com/system/resources/previews/005/337/799/non_2x/icon-image-not-found-free-vector.jpg\"}\" alt=\"${element.title}\" />\n          <div class=\"search__wrapper-info\">\n                    <h3 class=\"search__title\" id=\"idTitleApi\">${element.original_title}</h3>\n                    <p class=\"search__year\">${element.release_date.split(\"-\")[0]}</p>\n                </div>\n                <p class=\"generes-api filter\">${unionGenres}</p>\n                <p class=\"vote-api filter\">${element.vote_average}</p>\n                <p class=\"vote-count-api filter\"> ${element.vote_count}</p>\n                <p class=\"popularity-api filter\">${element.popularity}</p>\n                <p class=\"overview-api filter\">${element.overview}</p>\n            </li>`);\n            $8bb1994793b251b1$var$groupGenres = [];\n        });\n        (0, $lADUE.modal)(\"#idSearchItem\");\n    }).catch((err)=>err);\n});\nconst $8bb1994793b251b1$var$searchBtn = (page)=>{\n    if (!$8bb1994793b251b1$var$inputSearch.value) return alert(\"por favor escriba algo\");\n    $8bb1994793b251b1$var$listApi.innerHTML = \"\";\n    $8bb1994793b251b1$var$listPages.innerHTML = \"\";\n    (0, $dIxxU.default).get(`https://api.themoviedb.org/3/search/movie?api_key=${(0, $8j9iX.apiKey)}&query=${$8bb1994793b251b1$var$inputSearch.value}&include_adult=false&include_video=false&page=${page}&sort_by=popularity.desc`).then((res)=>{\n        res.data.results.forEach((element)=>{\n            element.genre_ids.forEach((genre)=>{\n                (0, $c3eOT.genres).forEach((dataGenre)=>{\n                    if (genre === dataGenre.id) $8bb1994793b251b1$var$groupGenres.push(dataGenre.name);\n                });\n            });\n            let unionGenres = $8bb1994793b251b1$var$groupGenres.join(\", \");\n            $8bb1994793b251b1$var$listApi.insertAdjacentHTML(\"beforeend\", `<li id=\"idItemApi\" class=\"card\">\n        <img class=\"imgApi\" src=\"${element.poster_path ? `${0, $8j9iX.imageBaseURL}${element.poster_path}` : \"https://static.vecteezy.com/system/resources/previews/005/337/799/non_2x/icon-image-not-found-free-vector.jpg\"}\" alt=\"${element.title}\" />\n        <h3 id=\"idTitleApi\">${element.original_title}</h3>\n        <p class=\"generes-api\">${unionGenres}</p>\n        <p class=\"date-api\">${element.release_date.split(\"-\")[0]}</p>\n        <button class=\"mylistBTN\">Add</button>\n        <p class=\"vote-api filter\">${element.vote_average}</p>\n        <p class=\"vote-count-api filter\"> ${element.vote_count}</p>                <p class=\"popularity-api filter\">${element.popularity}</p>\n        <p class=\"overview-api filter\">${element.overview}</p>\n      </li>`);\n            $8bb1994793b251b1$var$groupGenres = [];\n        });\n        (0, $lADUE.modal)(\"#idItemApi\");\n        let allPages = res.data.total_pages;\n        function elem(perPage, page) {\n            let li = \"\";\n            let beforePages = 1;\n            let afterPages = 2;\n            if (page > 1) li += `<li class=\"btn\" id=\"previousPage\"><a href=\"#idHeader\" class=\"btnLink\"><i class=\"ri-arrow-left-s-line\"></a></i></li>`;\n            for(let i = beforePages; i < afterPages; i += 1){\n                if (i > allPages) continue;\n                li += `<li class=\"numb active\">${$8bb1994793b251b1$var$cont}</li>`;\n            }\n            if (page < perPage) li += `<li class=\"btn\" id=\"anotherPage\"><a href=\"#idHeader\" class=\"btnLink\"><i class=\"ri-arrow-right-s-line\"></a></i></li>`;\n            $8bb1994793b251b1$var$listPages.innerHTML = li;\n            // Agregar eventos onclick a los elementos de paginación\n            const previousBtn = document.getElementById(\"previousPage\");\n            const anotherBtn = document.getElementById(\"anotherPage\");\n            if (previousBtn) previousBtn.addEventListener(\"click\", ()=>{\n                $8bb1994793b251b1$var$cont--; // Restar 1 a cont\n                elem(allPages, $8bb1994793b251b1$var$cont);\n                $8bb1994793b251b1$var$searchBtn($8bb1994793b251b1$var$cont); // Volver a llamar a elem con la nueva página\n                $8bb1994793b251b1$var$listApi.innerHTML = \"\";\n            });\n            if (anotherBtn) anotherBtn.addEventListener(\"click\", ()=>{\n                $8bb1994793b251b1$var$cont++; // Sumar 1 a cont\n                elem(allPages, $8bb1994793b251b1$var$cont);\n                $8bb1994793b251b1$var$searchBtn($8bb1994793b251b1$var$cont);\n                $8bb1994793b251b1$var$listApi.innerHTML = \"\";\n            });\n        }\n        // ejecuto la función para mostrar la paginación inicial\n        elem(allPages, $8bb1994793b251b1$var$cont);\n    }).catch((err)=>console.log(err));\n};\n$8bb1994793b251b1$var$btnSearch.addEventListener(\"click\", ()=>{\n    $8bb1994793b251b1$var$searchBtn($8bb1994793b251b1$var$cont);\n    $8bb1994793b251b1$var$listSearch.innerHTML = \"\";\n    $8bb1994793b251b1$var$inputSearch.blur();\n});\n\n})();\n//# sourceMappingURL=index.f7034cb6.js.map\n","import axios from 'axios';\nimport { imageBaseURL, apiKey } from './testAPI';\nimport { modal } from './modal';\nimport { genres } from './dataGenres';\nconst inputSearch = document.getElementById('idInputSearch');\nconst listSearch = document.getElementById('idSearchList');\nconst btnSearch = document.querySelector('#idSearchButton');\nconst listApi = document.querySelector('.list_api');\nconst listPages = document.getElementById('listPages');\nlet cont = 1;\nlet groupGenres = [];\ninputSearch.addEventListener('input', e => {\n  listSearch.innerHTML = '';\n  if (!e.target.value) {\n    return;\n  }\n  axios\n    .get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${e.target.value}&include_adult=false&include_video=false&sort_by=popularity.desc`\n    )\n    .then(res => {\n      if (!res.data.results.length) {\n        return alert('no se encontro la pelicula buscada');\n      }\n      res.data.results.forEach(element => {\n        element.genre_ids.forEach(genre => {\n          genres.forEach(dataGenre => {\n            if (genre === dataGenre.id) {\n              groupGenres.push(dataGenre.name);\n            }\n          });\n        });\n        let unionGenres = groupGenres.join(', ');\n        listSearch.insertAdjacentHTML(\n          'beforeend',\n          `<li class=\"search__item\" id=\"idSearchItem\">\n          <img class=\"search__img\" src=\"${\n            element.poster_path\n              ? `${imageBaseURL}${element.poster_path}`\n              : 'https://static.vecteezy.com/system/resources/previews/005/337/799/non_2x/icon-image-not-found-free-vector.jpg'\n          }\" alt=\"${element.title}\" />\n          <div class=\"search__wrapper-info\">\n                    <h3 class=\"search__title\" id=\"idTitleApi\">${\n                      element.original_title\n                    }</h3>\n                    <p class=\"search__year\">${\n                      element.release_date.split('-')[0]\n                    }</p>\n                </div>\n                <p class=\"generes-api filter\">${unionGenres}</p>\n                <p class=\"vote-api filter\">${element.vote_average}</p>\n                <p class=\"vote-count-api filter\"> ${element.vote_count}</p>\n                <p class=\"popularity-api filter\">${element.popularity}</p>\n                <p class=\"overview-api filter\">${element.overview}</p>\n            </li>`\n        );\n        groupGenres = [];\n      });\n      modal('#idSearchItem');\n    })\n    .catch(err => err);\n});\n\nconst searchBtn = page => {\n  if (!inputSearch.value) {\n    return alert('por favor escriba algo');\n  }\n  listApi.innerHTML = '';\n  listPages.innerHTML = '';\n  axios\n    .get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${inputSearch.value}&include_adult=false&include_video=false&page=${page}&sort_by=popularity.desc`\n    )\n    .then(res => {\n      res.data.results.forEach(element => {\n        element.genre_ids.forEach(genre => {\n          genres.forEach(dataGenre => {\n            if (genre === dataGenre.id) {\n              groupGenres.push(dataGenre.name);\n            }\n          });\n        });\n        let unionGenres = groupGenres.join(', ');\n        listApi.insertAdjacentHTML(\n          'beforeend',\n          `<li id=\"idItemApi\" class=\"card\">\n        <img class=\"imgApi\" src=\"${\n          element.poster_path\n            ? `${imageBaseURL}${element.poster_path}`\n            : 'https://static.vecteezy.com/system/resources/previews/005/337/799/non_2x/icon-image-not-found-free-vector.jpg'\n        }\" alt=\"${element.title}\" />\n        <h3 id=\"idTitleApi\">${element.original_title}</h3>\n        <p class=\"generes-api\">${unionGenres}</p>\n        <p class=\"date-api\">${element.release_date.split('-')[0]}</p>\n        <button class=\"mylistBTN\">Add</button>\n        <p class=\"vote-api filter\">${element.vote_average}</p>\n        <p class=\"vote-count-api filter\"> ${\n          element.vote_count\n        }</p>                <p class=\"popularity-api filter\">${\n            element.popularity\n          }</p>\n        <p class=\"overview-api filter\">${element.overview}</p>\n      </li>`\n        );\n        groupGenres = [];\n      });\n      modal('#idItemApi');\n      let allPages = res.data.total_pages;\n      function elem(perPage, page) {\n        let li = '';\n        let beforePages = 1;\n        let afterPages = 2;\n        if (page > 1) {\n          li += `<li class=\"btn\" id=\"previousPage\"><a href=\"#idHeader\" class=\"btnLink\"><i class=\"ri-arrow-left-s-line\"></a></i></li>`;\n        }\n        for (let i = beforePages; i < afterPages; i += 1) {\n          if (i > allPages) {\n            continue;\n          }\n          li += `<li class=\"numb active\">${cont}</li>`;\n        }\n        if (page < perPage) {\n          li += `<li class=\"btn\" id=\"anotherPage\"><a href=\"#idHeader\" class=\"btnLink\"><i class=\"ri-arrow-right-s-line\"></a></i></li>`;\n        }\n        listPages.innerHTML = li;\n\n        // Agregar eventos onclick a los elementos de paginación\n        const previousBtn = document.getElementById('previousPage');\n        const anotherBtn = document.getElementById('anotherPage');\n\n        if (previousBtn) {\n          previousBtn.addEventListener('click', () => {\n            cont--; // Restar 1 a cont\n            elem(allPages, cont);\n            searchBtn(cont); // Volver a llamar a elem con la nueva página\n            listApi.innerHTML = '';\n          });\n        }\n\n        if (anotherBtn) {\n          anotherBtn.addEventListener('click', () => {\n            cont++; // Sumar 1 a cont\n            elem(allPages, cont);\n            searchBtn(cont);\n            listApi.innerHTML = '';\n          });\n        }\n      }\n      // ejecuto la función para mostrar la paginación inicial\n      elem(allPages, cont);\n    })\n    .catch(err => console.log(err));\n};\nbtnSearch.addEventListener('click', () => {\n  searchBtn(cont);\n  listSearch.innerHTML = '';\n  inputSearch.blur();\n});\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$dIxxU","$8j9iX","$lADUE","$c3eOT","$8bb1994793b251b1$var$inputSearch","document","getElementById","$8bb1994793b251b1$var$listSearch","$8bb1994793b251b1$var$btnSearch","querySelector","$8bb1994793b251b1$var$listApi","$8bb1994793b251b1$var$listPages","$8bb1994793b251b1$var$cont","$8bb1994793b251b1$var$groupGenres","addEventListener","e","innerHTML","target","value","default","get","apiKey","then","res","data","results","length","alert","forEach","element","genre_ids","genre","genres","dataGenre","push","name","unionGenres","join","insertAdjacentHTML","poster_path","imageBaseURL","title","original_title","release_date","split","vote_average","vote_count","popularity","overview","modal","catch","$8bb1994793b251b1$var$searchBtn","page","allPages","total_pages","elem","perPage","li","i","previousBtn","anotherBtn","console","log","blur"],"version":3,"file":"index.f7034cb6.js.map"}